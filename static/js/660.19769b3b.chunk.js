"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[660],{552:function(e,t,n){n.d(t,{IR:function(){return l},Jn:function(){return h},LP:function(){return o},M1:function(){return g},Q$:function(){return m},t2:function(){return f},tx:function(){return x}});var r=n(861),a=n(757),i=n.n(a),s=n(912),c="0bf9a11da9d083f4751315d07dcbd89b";function o(){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(c)).then((function(e){return e.data.results}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(c,"&language=en-US&query=").concat(t,"&page=1&include_adult=false")).then((function(e){return e.data.results}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(c,"&language=en-US")).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t){return"https://image.tmdb.org/t/p/w".concat(t,"/").concat(e)}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(c,"&language=en-US")).then((function(e){return e.data.genres}));case 2:return n=e.sent,e.abrupt("return",n.reduce((function(e,n){return t.includes(n.id)&&e.push(n.name),e}),[]));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return _.apply(this,arguments)}function _(){return(_=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(c,"&language=en-US")).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return w.apply(this,arguments)}function w(){return(w=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=").concat(c,"&language=en-US&page=1")).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},660:function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var r=n(439),a={movieCard:"movieDetailsPage_movieCard__BSOAy",mainInfo:"movieDetailsPage_mainInfo__tZH+X",leftInfo:"movieDetailsPage_leftInfo__2D72S",poster:"movieDetailsPage_poster__IyC5x",title:"movieDetailsPage_title__hKEAk",category:"movieDetailsPage_category__52FIZ",overview:"movieDetailsPage_overview__CMXt7",genresList:"movieDetailsPage_genresList__IifJK",aditional:"movieDetailsPage_aditional__ulhtK",aditionalul:"movieDetailsPage_aditionalul__RFJZY",movieBackButton:"movieDetailsPage_movieBackButton__b+QJD"},i=n(552),s=n(87),c=n(689),o=n(791),u=n(184),l=function(){var e,t,n=(0,c.TH)(),l=(0,c.UO)().id,p=(0,o.useState)([]),f=(0,r.Z)(p,2),d=f[0],h=f[1],m=(0,o.useState)([]),v=(0,r.Z)(m,2),g=v[0],_=v[1],x=(0,o.useState)(""),w=(0,r.Z)(x,2),y=w[0],j=w[1],k=(0,o.useState)(""),b=(0,r.Z)(k,2),Z=b[0],P=b[1];(0,o.useEffect)((function(){n.state&&P(n.state.from)}),[n.state]),(0,o.useEffect)((function(){(0,i.t2)(l).then((function(e){h(e),j(e.poster_path?(0,i.Jn)(e.poster_path,300):"https://dummyimage.com/640x480/2a2a2a/ffffff&text=Product+image+placeholder");var t=e.genres.map((function(e){return e.id}));(0,i.Q$)(t).then((function(e){return _(e)})).catch((function(){return alert("Some problems with API")}))})).catch((function(){return alert("Some problems with API")}))}),[l]);var N=null!==(e=null===(t=n.state)||void 0===t?void 0:t.from)&&void 0!==e?e:Z;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(s.rU,{to:N,className:a.movieBackButton,children:["<-"," Go Back"]}),(0,u.jsxs)("div",{className:a.movieCard,children:[(0,u.jsxs)("div",{className:a.mainInfo,children:[(0,u.jsx)("img",{src:y,alt:d.title,className:a.poster}),(0,u.jsxs)("div",{className:a.leftInfo,children:[(0,u.jsx)("span",{className:a.title,children:d.title}),(0,u.jsx)("span",{className:a.overview,children:"User score: ".concat(d.vote_average)}),(0,u.jsx)("span",{className:a.category,children:"Overview"}),(0,u.jsx)("p",{className:a.overview,children:d.overview}),(0,u.jsx)("span",{className:a.category,children:"Genres"}),(0,u.jsx)("ul",{className:a.genresList,children:g.map((function(e){return(0,u.jsx)("li",{children:e},e)}))})]})]}),(0,u.jsx)("p",{className:a.aditional,children:"Additional information"}),(0,u.jsxs)("ul",{className:a.aditionalul,children:[(0,u.jsx)("li",{children:(0,u.jsx)(s.rU,{to:"/movies/".concat(l,"/cast"),children:"Cast"})}),(0,u.jsx)("li",{children:(0,u.jsx)(s.rU,{to:"/movies/".concat(l,"/reviews"),children:"Reviews"})})]}),(0,u.jsx)("div",{className:a.linkInfo,children:(0,u.jsx)(c.j3,{})})]})]})}}}]);
//# sourceMappingURL=660.19769b3b.chunk.js.map